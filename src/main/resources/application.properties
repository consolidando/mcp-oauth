# Avoid Brotli static init issues in native image builds
# Pass three separate --initialize-at-run-time flags (comma-separated list)
quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.handler.codec.compression.Brotli,--initialize-at-run-time=io.netty.handler.codec.compression.BrotliOptions,--initialize-at-run-time=com.aayushatharva.brotli4j.Brotli4jLoader

# OAuth server base configuration (override per environment)
emp.oauth.issuer=${EMP_OAUTH_ISSUER:https://auth.example.com}
emp.oauth.authorization-endpoint=${emp.oauth.issuer}/oauth/authorize
emp.oauth.token-endpoint=${emp.oauth.issuer}/oauth/token
emp.oauth.registration-endpoint=${emp.oauth.issuer}/oauth/register
emp.oauth.jwks-uri=${emp.oauth.issuer}/jwks.json
emp.oauth.public-key-path=${EMP_OAUTH_PUBLIC_KEY_PATH:keys/oauth-es256-public.pem}
emp.oauth.key-id=${EMP_OAUTH_KEY_ID:es256-1}
emp.oauth.private-key-secret=${EMP_OAUTH_PRIVATE_KEY_SECRET:}
emp.oauth.private-key-path=${EMP_OAUTH_PRIVATE_KEY_PATH:}
emp.oauth.test-user-id=${EMP_OAUTH_TEST_USER_ID:}
emp.oauth.default-resource=${EMP_OAUTH_DEFAULT_RESOURCE:}
emp.oauth.auth-code-ttl-seconds=${EMP_OAUTH_AUTH_CODE_TTL_SECONDS:300}
emp.oauth.auth-request-ttl-seconds=${EMP_OAUTH_AUTH_REQUEST_TTL_SECONDS:600}
emp.oauth.access-token-ttl-seconds=${EMP_OAUTH_ACCESS_TOKEN_TTL_SECONDS:3600}

# Google OIDC
emp.oauth.google.client-id=${EMP_GOOGLE_CLIENT_ID:}
emp.oauth.google.client-secret=${EMP_GOOGLE_CLIENT_SECRET:}
emp.oauth.google.redirect-uri=${EMP_GOOGLE_REDIRECT_URI:}
emp.oauth.google.auth-endpoint=${EMP_GOOGLE_AUTH_ENDPOINT:https://accounts.google.com/o/oauth2/v2/auth}
emp.oauth.google.token-endpoint=${EMP_GOOGLE_TOKEN_ENDPOINT:https://oauth2.googleapis.com/token}
emp.oauth.google.jwks-uri=${EMP_GOOGLE_JWKS_URI:https://www.googleapis.com/oauth2/v3/certs}
emp.oauth.google.scope=${EMP_GOOGLE_SCOPE:openid email profile}
emp.oauth.firestore.users-collection=${EMP_OAUTH_FIRESTORE_USERS_COLLECTION:users}
